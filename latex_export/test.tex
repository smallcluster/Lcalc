% step 0 (beta)
\begin{forest}
for tree={outer sep=0}
[[$\lambda n$ [$\lambda f$ [$\lambda x$ [[[[$n$] [$\lambda g$ [$\lambda h$ [[$h$] [[$g$] [$f$]]]]]] [$\lambda u$ [$x$]]] [$\lambda z$ [$z$]]]]]] [$\lambda f$, tikz={\node [draw,red, inner sep=0,fit to=tree]{};} [$\lambda x$ [[$f$] [[$f$] [$x$]]]]]]
\node at (current bounding box.south) [below=1ex]{\emph{step 0}};
\end{forest}
$\longrightarrow_{\beta}$
% step 1 (beta)
\begin{forest}
for tree={outer sep=0}
[$\lambda f$ [$\lambda x$ [[[[$\lambda f$ [$\lambda x$ [[$f$] [[$f$] [$x$]]]]] [$\lambda g$, tikz={\node [draw,red, inner sep=0,fit to=tree]{};} [$\lambda h$ [[$h$] [[$g$] [$f$]]]]]] [$\lambda u$ [$x$]]] [$\lambda z$ [$z$]]]]]
\node at (current bounding box.south) [below=1ex]{\emph{step 1}};
\end{forest}
$\longrightarrow_{\beta}$
% step 2 (beta)
\begin{forest}
for tree={outer sep=0}
[$\lambda f$ [$\lambda x$ [[[$\lambda x$ [[$\lambda g$ [$\lambda h$ [[$h$] [[$g$] [$f$]]]]] [[$\lambda g$ [$\lambda h$ [[$h$] [[$g$] [$f$]]]]] [$x$]]]] [$\lambda u$, tikz={\node [draw,red, inner sep=0,fit to=tree]{};} [$x$]]] [$\lambda z$ [$z$]]]]]
\node at (current bounding box.south) [below=1ex]{\emph{step 2}};
\end{forest}
$\longrightarrow_{\beta}$
% step 3 (beta)
\begin{forest}
for tree={outer sep=0}
[$\lambda f$ [$\lambda x$ [[[$\lambda g$ [$\lambda h$ [[$h$] [[$g$] [$f$]]]]] [, tikz={\node [draw,red, inner sep=0,fit to=tree]{};} [$\lambda g$ [$\lambda h$ [[$h$] [[$g$] [$f$]]]]] [$\lambda u$ [$x$]]]] [$\lambda z$ [$z$]]]]]
\node at (current bounding box.south) [below=1ex]{\emph{step 3}};
\end{forest}
$\longrightarrow_{\beta}$
% step 4 (beta)
\begin{forest}
for tree={outer sep=0}
[$\lambda f$ [$\lambda x$ [[$\lambda h$ [[$h$] [[[$\lambda g$ [$\lambda h$ [[$h$] [[$g$] [$f$]]]]] [$\lambda u$ [$x$]]] [$f$]]]] [$\lambda z$, tikz={\node [draw,red, inner sep=0,fit to=tree]{};} [$z$]]]]]
\node at (current bounding box.south) [below=1ex]{\emph{step 4}};
\end{forest}
$\longrightarrow_{\beta}$
% step 5 (beta)
\begin{forest}
for tree={outer sep=0}
[$\lambda f$ [$\lambda x$ [[$\lambda z$ [$z$]] [, tikz={\node [draw,red, inner sep=0,fit to=tree]{};} [[$\lambda g$ [$\lambda h$ [[$h$] [[$g$] [$f$]]]]] [$\lambda u$ [$x$]]] [$f$]]]]]
\node at (current bounding box.south) [below=1ex]{\emph{step 5}};
\end{forest}
$\longrightarrow_{\beta}$
% step 6 (beta)
\begin{forest}
for tree={outer sep=0}
[$\lambda f$ [$\lambda x$ [[[$\lambda g$ [$\lambda h$ [[$h$] [[$g$] [$f$]]]]] [$\lambda u$, tikz={\node [draw,red, inner sep=0,fit to=tree]{};} [$x$]]] [$f$]]]]
\node at (current bounding box.south) [below=1ex]{\emph{step 6}};
\end{forest}
$\longrightarrow_{\beta}$
% step 7 (beta)
\begin{forest}
for tree={outer sep=0}
[$\lambda f$ [$\lambda x$ [[$\lambda h$ [[$h$] [[$\lambda u$ [$x$]] [$f$]]]] [$f$, tikz={\node [draw,red, inner sep=0,fit to=tree]{};}]]]]
\node at (current bounding box.south) [below=1ex]{\emph{step 7}};
\end{forest}
$\longrightarrow_{\beta}$
% step 8 (beta)
\begin{forest}
for tree={outer sep=0}
[$\lambda f$ [$\lambda x$ [[$f$] [[$\lambda u$ [$x$]] [$f$, tikz={\node [draw,red, inner sep=0,fit to=tree]{};}]]]]]
\node at (current bounding box.south) [below=1ex]{\emph{step 8}};
\end{forest}
$\longrightarrow_{\beta}$
% step 9 (eta)
\begin{forest}
for tree={outer sep=0}
[$\lambda f$ [$\lambda x$, circle, dotted, draw,inner sep=0, red, name=spec var [[$f$] [$x$, tikz={\node [circle,draw,red,inner sep=0,fit to=tree]{};}]{\draw[-,dotted,red] () to (spec var);}]]]
\node at (current bounding box.south) [below=1ex]{\emph{step 9}};
\end{forest}
$\longrightarrow_{\eta}$
% step 10 
\begin{forest}
for tree={outer sep=0}
[$\lambda f$ [$f$]]
\node at (current bounding box.south) [below=1ex]{\emph{step 10}};
\end{forest}
